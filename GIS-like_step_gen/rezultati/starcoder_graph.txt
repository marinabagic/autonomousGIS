import networkx as nx

G = nx.DiGraph()

# Add nodes and edges for the graph
G.add_node("haz_waste_shp_url", node_type="data", path="https://github.com/gladcolor/LLM-Geo/raw/master/overlay_analysis/Hazardous_Waste_Sites.zip", description="Hazardous waste facility shapefile URL")
G.add_node("load_haz_waste_shp", node_type="operation", description="Load hazardous waste facility shapefile")
G.add_edge("haz_waste_shp_url", "load_haz_waste_shp")
G.add_node("haz_waste_gdf", node_type="data", description="Hazardous waste facility GeoDataFrame")
G.add_edge("load_haz_waste_shp", "haz_waste_gdf")
G.add_node("tract_shp_url", node_type="data", path="https://github.com/gladcolor/LLM-Geo/raw/master/overlay_analysis/tract_37_EPSG4326.zip", description="NC tract boundary shapefile URL")
G.add_node("load_tract_shp", node_type="operation", description="Load NC tract boundary shapefile")
G.add_edge("tract_shp_url", "load_tract_shp")
G.add_node("tract_gdf", node_type="data", description="NC tract boundary GeoDataFrame")
G.add_edge("load_tract_shp", "tract_gdf")
G.add_node("tract_pop_csv_url", node_type="data", path="https://github.com/gladcolor/LLM-Geo/raw/master/overlay_analysis/NC_tract_population.csv", description="NC tract population CSV file URL")
G.add_node("load_tract_pop_csv", node_type="operation", description="Load NC tract population CSV file")
G.add_edge("tract_pop_csv_url", "load_tract_pop_csv")
G.add_node("tract_pop_df", node_type="data", description="NC tract population DataFrame")
G.add_edge("load_tract_pop_csv", "tract_pop_df")
G.add_node("tract_haz_waste_gdf", node_type="data", description="NC tracts that contain hazardous waste facilities GeoDataFrame")
G.add_node("join_tract_haz_waste_gdf", node_type="operation", description="Join hazardous waste facility and tract boundary GeoDataFrames")
G.add_edge("haz_waste_gdf", "join_tract_haz_waste_gdf")
G.add_edge("tract_gdf", "join_tract_haz_waste_gdf")
G.add_edge("join_tract_haz_waste_gdf", "tract_haz_waste_gdf")
G.add_node("tract_pop_haz_waste_df", node_type="data", description="NC tracts that contain hazardous waste facilities DataFrame")
G.add_node("join_tract_pop_haz_waste_df", node_type="operation", description="Join tract population and tract hazardous waste facilities DataFrames")
G.add_edge("tract_pop_df", "join_tract_pop_haz_waste_df")
G.add_edge("tract_haz_waste_gdf", "join_tract_pop_haz_waste_df")
G.add_edge("join_tract_pop_haz_waste_df", "tract_pop_haz_waste_df")
G.add_node("tract_pop_haz_waste_sum", node_type="data", description="Total population in tracts that contain hazardous waste facilities")
G.add_node("calculate_tract_pop_haz_waste_sum", node_type="operation", description="Calculate total population in tracts that contain hazardous waste facilities")
G.add_edge("tract_pop_haz_waste_df", "calculate_tract_pop_haz_waste_sum")
G.add_edge("calculate_tract_pop_haz_waste_sum", "tract_pop_haz_waste_sum")
G.add_node("tract_pop_map", node_type="data", description="NC tract population choropleth map")
G.add_node("generate_tract_pop_map", node_type="operation", description="Generate NC tract population choropleth map")
G.add_edge("tract_gdf", "generate_tract_pop_map")
G.add_edge("tract_pop_df", "generate_tract_pop_map")
G.add_edge("generate_tract_pop_map", "tract_pop_map")
G.add_node("tract_pop_map_haz_waste", node_type="data", description="NC tract population choropleth map with hazardous waste facilities highlighted")
G.add_node("highlight_tract_pop_map_haz_waste", node_type="operation", description="Highlight hazardous waste facilities on the tract population choropleth map")
G.add_edge("tract_pop_map", "highlight_tract_pop_map_haz_waste")
G.add_edge("tract_haz_waste_gdf", "highlight_tract_pop_map_haz_waste")
G.add_edge("highlight_tract_pop_map_haz_waste", "tract_pop_map_haz_waste")